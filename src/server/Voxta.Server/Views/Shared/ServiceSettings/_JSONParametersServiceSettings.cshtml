@model Voxta.Server.ViewModels.ServiceSettings.ServiceSettingsWithParametersViewModel

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/9.10.2/jsoneditor.min.css" integrity="sha512-brXxIa/fpMfluh8HUWyrNssKy/H0oRzA0HhmipgfVwbXPamMUTZn1jEsvoGGwJYCRpSx4idujdul4vFwWgPROA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="~/styles/jsoneditor-dark.css" asp-append-version="true" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/9.10.2/jsoneditor-minimalist.js" integrity="sha512-H0X4c02ARmY4wCJ2CzRFfKWnB6ZrLFqsD9JYB3ljTOCtjSJB63Nfq/GUumYW3NMQRX3R2B8BH56DAywT4tQv6w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="~/scripts/components/json-editor.js" asp-append-version="true"></script>

<div class="mb-3">
    <label asp-for="Parameters">Parameters</label>
    <input type="hidden" asp-for="Parameters" class="form-control"/>
    <div id="jsoneditor" class="jsoneditor" style="width: 100%; height: 160px;"></div>
</div>
<div class="form-check">
    <input asp-for="UseDefaults" type="checkbox" class="form-check-input"/>
    <label asp-for="UseDefaults">Use default parameters</label>
    <div class="form-text">Will ignore any changes you make on the parameters and use the default values instead.</div>
    <span asp-validation-for="UseDefaults" class="text-danger"></span>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        initJsonEditor(document.getElementById("configureForm"), document.getElementById("Parameters"), document.getElementById("UseDefaults"));
    });
</script>
